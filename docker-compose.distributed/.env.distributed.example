# =============================================================================
# Distributed Deployment — Environment Variables
# =============================================================================
# Use this when splitting Frontbase services across multiple machines.
# Copy to .env.distributed and fill in your remote hostnames/IPs.
# =============================================================================

# === Security (REQUIRED) ===
SECRET_KEY=change-me-in-production
ADMIN_EMAIL=admin@yourdomain.com
ADMIN_PASSWORD=change-me-in-production
REDIS_TOKEN=change-me-in-production

# === Machine A: API Tier (Backend + Redis) ===
BACKEND_PORT=8000
REDIS_PORT=6379
REDIS_HTTP_PORT=8079
DB_PASSWORD=your-secure-password

# Point backend to remote database (Machine B)
# DATABASE_URL=postgresql+asyncpg://frontbase:${DB_PASSWORD}@MACHINE_B_IP:5432/frontbase

# Point backend to remote edge (Machine C)
EDGE_ENGINE_URL=http://MACHINE_C_IP:3002

# === Machine B: Data Tier (PostgreSQL) ===
POSTGRES_PORT=5432

# === Machine C: Edge Tier ===
EDGE_PORT=3002
FRONTBASE_ENV=local
# Point edge to remote backend (Machine A)
FASTAPI_URL=http://MACHINE_A_IP:8000

# === Machine D: Static Tier (Frontend/Nginx) ===
FRONTEND_PORT=80
# Point nginx to remote services
BACKEND_HOST=MACHINE_A_IP
EDGE_HOST=MACHINE_C_IP

# === Publish Strategy ===
# local   — Backend pushes to edge via HTTP (works for distributed)
# turso   — Backend writes to Turso DB (edge reads from Turso)
PUBLISH_STRATEGY=local

# === Cloud / BYOE (optional) ===
# TURSO_DB_URL=libsql://your-db.turso.io
# TURSO_DB_TOKEN=your-turso-auth-token
# UPSTASH_REDIS_URL=https://your-redis.upstash.io
# UPSTASH_REDIS_TOKEN=your-upstash-rest-token
