# =============================================================================
# Frontbase Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# Then run: docker-compose up -d
# =============================================================================

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
# SQLite (default): leave this commented out
# PostgreSQL: uncomment the next two lines
# COMPOSE_PROFILES=postgresql
# DB_PASSWORD=your-secure-password

# -----------------------------------------------------------------------------
# Security (REQUIRED in production)
# -----------------------------------------------------------------------------
SECRET_KEY=your-super-secret-key-change-this-in-production

# Admin credentials for Frontbase designer login
ADMIN_EMAIL=admin@yourdomain.com
ADMIN_PASSWORD=change-this-secure-password

# Set to "production" to enable secure cookies and disable registration
ENVIRONMENT=production

# Set to "true" to allow new admin registrations (disable in production)

# -----------------------------------------------------------------------------
# Edge Engine (Hono SSR)
# -----------------------------------------------------------------------------
# Storage provider: 'local' (SQLite) or 'cloud' (Turso + Upstash)
# FRONTBASE_ENV=local

# Public URL for preview links
# For panels (Easypanel/Dokploy): auto-configured via PRIMARY_DOMAIN
# For manual deploy: PUBLIC_URL=https://your-domain.com
# PUBLIC_URL=https://your-domain.com

# API keys for webhook authentication (comma-separated)
# API_KEYS=your-webhook-api-key-1,your-webhook-api-key-2

# Supabase JWT secret (for end-user app authentication)
# SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# -----------------------------------------------------------------------------
# Publish Strategy
# -----------------------------------------------------------------------------
# How the backend pushes pages to the Edge Engine:
#   local   — HTTP POST to edge /api/import (default, always works)
#   turso   — Direct SQL write to Turso DB (requires cloud BYOE setup)
# PUBLISH_STRATEGY=local

# -----------------------------------------------------------------------------
# Inter-Service URLs (Distributed Deployment)
# -----------------------------------------------------------------------------
# Override these when deploying services on separate machines.
# When all services run on the same Docker network, defaults work automatically.
# EDGE_ENGINE_URL=http://edge:3002        # Backend → Edge Engine
# FASTAPI_URL=http://backend:8000         # Edge → Backend (startup sync)
# REDIS_URL=redis://redis:6379            # Backend → Redis

# -----------------------------------------------------------------------------
# Cloud / BYOE (Turso + Upstash)
# -----------------------------------------------------------------------------
# Required when using docker-compose.cloud.yml or FRONTBASE_ENV=cloud
# TURSO_DB_URL=libsql://your-db.turso.io
# TURSO_DB_TOKEN=your-turso-auth-token
# UPSTASH_REDIS_URL=https://your-redis.upstash.io
# UPSTASH_REDIS_TOKEN=your-upstash-rest-token

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
# Use "*" for development only, specify exact domains in production
CORS_ORIGINS=*

# -----------------------------------------------------------------------------
# Redis (for caching)
# -----------------------------------------------------------------------------
REDIS_TOKEN=dev_token_change_in_prod
# Uncomment to expose redis-http on host port (for external Cloudflare/Vercel Edge access)
# REDIS_HTTP_PORT=8079

# -----------------------------------------------------------------------------
# Frontend (Vite build-time variables)
# -----------------------------------------------------------------------------
# API URL - leave empty for same-origin (recommended for production)
# For local dev: VITE_API_URL=http://localhost:8000
VITE_API_URL=