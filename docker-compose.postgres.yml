# ==============================================================================
# PostgreSQL Override for docker-compose
# ==============================================================================
# Usage: DATABASE=postgres docker-compose up -d
#
# This file is auto-included when using the postgres profile.
# ==============================================================================

version: '3.8'

services:
  postgres:
    profiles: [] # Always start when this override is used

  backend:
    environment:
      # PostgreSQL connection - using psycopg2 (sync driver for Alembic migrations)
      - DATABASE_URL=postgresql+psycopg2://frontbase:${DB_PASSWORD:-frontbase-dev-password}@postgres:5432/frontbase
    depends_on:
      postgres:
        condition: service_healthy
